@using System.Web.Optimization
@using EventBooking.Controllers.ViewModels
@using EventBooking.Data
@model EventBooking.Controllers.ViewModels.TeamActivitiesModel

@{
    ViewBag.Title = "Lag: " + Model.Name;
}

@section Scripts
{
    @Scripts.Render("~/Scripts/team.js")
}

<div class="page-header">
    <h1>@Model.Name</h1>
</div>

<div class="row">
    <div class="span8">
        <div class="page-header">
            <h3>Lagets aktiviteter</h3>
        </div>
        <div class="row" style="min-height: 250px;">
            @foreach (var eventGroup in Model.Activities)
            {

                <div class="span4">
                    <small><b>@eventGroup.Key</b></small>
                    <p>
                        <ul>
                            @foreach (var e in eventGroup)
                            {

                                <li class="@e.Type">
                                    <a href="@Url.Action("Details", "Activity", new { @e.Id })" class="link" rel="tooltip" data-original-title="@e.Summary">
                                        <span class="badge @Html.BadgeColorPicker(@e.Type)">@e.Date.DayOfWeek @e.Date.Day</span>
                                        @e.Name
                                    </a>
                                </li>
                            }
                        </ul>
                    </p>
                </div>
        
            }

        </div>
        <div class="row">
            <div class="span8">
                <ul class="pager">
                    <li class="previous"><a href="@Url.Action("Previous", "Team", new { currentDate = @Model.StartDate.ToSwedishShortDateString() })">Tidigare</a></li>
                    <li class="next"><a href="@Url.Action("Next", "Team", new { currentDate = @Model.StartDate.ToSwedishShortDateString() })">Senare</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="span4">
        <div class="page-header">
            <h3>Mina aktiviteter</h3>
        </div>
        <small><b>&nbsp;</b></small>
        <p>
            <ul>
                @foreach (var e in Model.MyActivites)
                {

                    <li class="@e.Type">
	                    <a href="@Url.Action("Details", "Activity", new { @e.Id })" class="link" rel="tooltip" data-original-title="@e.Description">
		                    <span class="badge @Html.BadgeColorPicker(@e.Type)">@e.Date.ToSwedishShortDateString()</span>
		                    @e.Name
	                    </a>
						@if (Model.CanLeaveActivity(e.Id))
						{
							<a href="@Url.Action("Leave", "Sessions", new {activityId = @e.Id})" class="link" rel="tooltip" data-original-title="Avanmäl" >
								<span class="icon icon-thumbs-down"></span>
							</a>						
						}
                        @if (e.Coordinator.Email == User.Identity.Name)
                        {
                            <a href="@Url.Action("Edit", "Activity", new { @e.Id })" class="link" rel="tooltip" data-original-title="Redigera">
                                <span class="icon icon-pencil"></span>
                            </a>
                            <a href="@Url.Action("WhoHasSignup", "Activity", new {activityId = @e.Id})" class="link" rel="tooltip" data-original-title="Vilka kommer?">
                                <span class="icon icon-eye-open"></span>
                            </a>
                        }
                    </li>
                }
            </ul>
        </p>
    </div>
</div>
<div class="row">
    <div class="span8">
        <small><b>Visa följande aktiviteter:</b></small>
        <p>
            <ul>
                <li>
                    <label class="checkbox">
                        <input type="checkbox" checked="checked" onclick="$('li.Publikt').toggle()"><span class="badge @Html.BadgeColorPicker(ActivityType.Publikt)">Offentligt</span>
                    </label>
                </li>
                <li>
                    <label class="checkbox">
                        <input type="checkbox" checked="checked" onclick="$('li.Sponsor').toggle()"><span class="badge @Html.BadgeColorPicker(ActivityType.Sponsor)">Sponsor</span>
                    </label>
                </li>
                <li>
                    <label class="checkbox">
                        <input type="checkbox" checked="checked" onclick="$('li.Träning').toggle()"><span class="badge @Html.BadgeColorPicker(ActivityType.Träning)">Träning</span>
                    </label>
                </li>
                <li>
                    <label class="checkbox">
                        <input type="checkbox" checked="checked" onclick="$('li.Preliminärt').toggle()"><span class="badge @Html.BadgeColorPicker(ActivityType.Preliminärt)">Preliminärt</span>
                    </label>
                </li>
                <li>
                    <label class="checkbox">
                        <input type="checkbox" checked="checked" onclick="$('li.Teammöte').toggle()"><span class="badge @Html.BadgeColorPicker(ActivityType.Teammöte)">Teammöte</span>
                    </label>
                </li>
            </ul>
        </p>
    </div>
</div>




